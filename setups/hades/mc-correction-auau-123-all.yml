_layouts:

_axes:
  - &axis_protons_theta
    name: mdc_vtx_tracks_extra/theta
    nb: 48
    lo: 0.3
    hi: 1.5
  - &axis_gen_protons_theta
    name: sim_particles_extra/theta
    nb: 48
    lo: 0.3
    hi: 1.5

hades_analysis:
  event-variables:
    - event_header/selected_tof_rpc_hits_centrality
  axes:
    - { name: event_header/selected_tof_rpc_hits_centrality, nb: 12, lo: 0.0, hi: 60 }
  q-vectors:
    ###########################################################################
    - name: accepted
      type: track
      phi:  mdc_vtx_tracks_extra/phi
      weight: Ones
      norm: m
      corrections:
        - recentering
        - twist-and-rescale
      axes:
        - *axis_protons_theta
      cuts:
        mdc_vtx_tracks_extra/chi2: {range: [0.0, 100.0]}
      qa:
        - {name: mdc_vtx_tracks_extra/phi, nb: 100, lo: -4., hi: 4.}
        - *axis_protons_pT
        - *axis_protons_rapidity
        - [*axis_protons_rapidity, *axis_protons_pT]
  ###########################################################################
    - name: protons
      type: track
      phi:  sim_particles_extra/phi
      weight: Ones
      norm: m
      cuts:
        sim_particles_extra/is_charged: {equals: 1}
      axes:
        - *axis_gen_protons_theta
      qa:
        - {name: sim_particles_extra/phi, nb: 100, lo: -4., hi: 4.}
        - *axis_gen_protons_pT
        - *axis_gen_protons_rapidity
        - [*axis_gen_protons_rapidity, *axis_gen_protons_pT]
  ###########################################################################
    - name: psi_rp
      type: psi
      phi: sim_header/reaction_plane
      weight: Ones
      norm: mag