_layouts:
  - &layout-na61-psd1
    [ 0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15 ]
  - &layout-na61-psd2
    [ 16,17,18,19,20,21,22,23,24,25,26,27 ]
  - &layout-na61-psd3
    [ 28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43 ]

_axes:
  - &centrality
    name: Centrality/Centrality_Epsd
    bin-edges: [ 0., 5., 10., 15., 25., 35., 45., 60., 80., 100. ]
  - &ax-pt
    name: RecParticles/pT
    nb: 80
    lo: 0.
    hi: 2.
  - &ax-rapidity
    name: RecParticles/y_cm
    nb: 80
    lo: -4.
    hi:  4.
  - &ax-phi { name: RecParticles/phi, nb: 400, lo: -4., hi: 4.}

_cuts:
  - &rec-particle-cuts-quality-standard
    RecParticles/dcax : { range: [-2., 2.] }
    RecParticles/dcay : { range: [-1., 1.] }


_qa:
  - &psd-qa
    - { name: PsdModules/phi, nb: 100, lo: -4., hi: 4. }
    - { name: PsdModules/signal, nb: 100, lo: 0., hi: 100. }
  - &rec-particle-qa-kinematics
    - *ax-phi
    - &ax-pt-qa { name: RecParticles/pT, nb: 1000, lo: 0., hi: 2. }
    - &ax-rapidity-qa { name: RecParticles/y_cm, nb: 1000, lo: -4., hi: 4. }
    - [*ax-rapidity-qa, *ax-pt-qa]
    - [*ax-phi, *ax-rapidity-qa]
  - &rec-particle-qa-quality
    - &ax-dcax-qa { name: RecParticles/dcax, nb: 200, lo: -10, hi: 10 }
    - &ax-dcay-qa { name: RecParticles/dcay, nb: 200, lo: -10, hi: 10 }
    - [*ax-dcax-qa, *ax-dcay-qa]




pbpb_13agev_16_025:
  event-variables: [ Centrality/Centrality_Epsd ]
  axes: [ *centrality ]
  q-vectors:
    - name: protons_pt
      type: track
      phi: RecParticles/phi
      weight: Ones
      corrections:
        - recentering
        - twist-and-rescale
      axes:
        - *ax-pt
      cuts-quality: *rec-particle-cuts-quality-standard
      cuts:
        RecParticles/pid : { equals: 2212 }
      qa-quality: *rec-particle-qa-quality
      qa-kinematics: *rec-particle-qa-kinematics
    - name: psd1
      type: channel
      phi: PsdModules/phi
      weight: PsdModules/signal
      corrections: [ recentering ]
      qa: *psd-qa
      channel-ids: *layout-na61-psd1
    - name: psd2
      type: channel
      phi: PsdModules/phi
      weight: PsdModules/signal
      corrections: [ recentering ]
      qa: *psd-qa
      channel-ids: *layout-na61-psd2
    - name: psd3
      type: channel
      phi: PsdModules/phi
      weight: PsdModules/signal
      corrections: [ recentering ]
      qa: *psd-qa
      channel-ids: *layout-na61-psd3
